---
title: "Lab 0: Tutorial, Button Handling, Stopwatch"
description: Introductory tutorial to embedded system platform and development environment
---

import { Aside } from '@astrojs/starlight/components';
import { Steps } from '@astrojs/starlight/components';
import { Icon } from '@astrojs/starlight/components';
import {Card, CardGrid, Badge } from '@astrojs/starlight/components';
import { FileTree } from '@astrojs/starlight/components';

## Introduction

<Aside type="note" title="Purpose">
This lab serves as an introductory tutorial to the **embedded system platform** and **software development environment** that will be used throughout this course. It also provides a review of key concepts from **ECE3849**, helping you become familiar with both the hardware and software tools that will be used in subsequent labs.
</Aside>

In this lab, you will:
- Set up your development environment using **Code Composer Studio (CCS)**
- Explore the **TM4C1294XL LaunchPad** and **BOOSTXL-EDUMKII BoosterPack** hardware
- Import and run a **starter stopwatch project** to verify your environment setup
- Learn how to write modular embedded programs using **C/C++** and **TI's driver libraries**

<Aside type="caution" title="Lab Requirements"></Aside>
To complete each lab in this course, you must:
<Steps>

1. **Submit your source code** for the lab
2. **Demonstrate your project** in operation to one of the course staff (TA or tutor)  
3. Receive a **sign-off** after successful demonstration
</Steps>

You will be graded based on the completion of the required steps and correct functionality.  
Late submissions will receive a **20% penalty** unless otherwise specified by your instructor.

### <span style="display: inline-flex; align-items: center;"><Icon name="document" />  Grading Rubric</span>
| Step | Description | Max Points | Score |
|:-----|:-------------|:-----------:|:------:|
| 1 | Compile and flash the **starter stopwatch example** (verify environment) | 10 |   |
| 2 | Extend the stopwatch to display **HH:MM:SS:MS** format | 20 |   |
| 3 | Implement physical buttons **S1 â†’ Play/Pause** and **S2 â†’ Reset** | 35 |   |
| 4 | Add on-screen buttons with feedback and state text (**Running / Stopped**) | 15 |   |
| 5 | **Source Code** â€” Organization, readability, and modular structure | 20 |   |
|   | **Total** | **100** |   |

## Objectives

By the end of this lab, you will have accomplished:

* Install software: **Code Composer Studio (CCS)** and **Free-RTOS**
* Set up a CCS project for the EKâ€‘TM4C1294XL + BoosterPack
* Output to the 128Ã—128 LCD display
* Configure general purpose timers and interrupts
* Read and debounce user buttons
* Understand how to import libraries


## Part 1 â€” Lab Kit

<CardGrid>
  <Card title="TI EK-TM4C1294XL LaunchPad" icon="laptop">
    <img src="https://hackmd.io/_uploads/H1DF3MNClg.jpg" alt="TI EK-TM4C1294XL LaunchPad" width="300" />
    
    **ARM Cortex-M4F Microcontroller**
    - 120MHz with hardware floating-point unit
    - 1MB Flash memory, 256KB RAM
    - Integrated Ethernet, USB, CAN interfaces
    - Professional debugging capabilities
    
    <Badge text="Industry Standard MCU" variant="success" />
  </Card>
  
  <Card title="BOOSTXL-EDUMKII BoosterPack" icon="puzzle">
    <img src="https://hackmd.io/_uploads/H1SmaGECgx.jpg" alt="BOOSTXL-EDUMKII BoosterPack" width="300" />
    
    **Complete I/O Interface Module**
    - 128Ã—128 color LCD display
    - Multiple sensors: light, temperature, accelerometer
    - Audio input/output with microphone and speaker
    - Joystick and button interfaces
    
    <Badge text="Educational Platform" variant="note" />
  </Card>
</CardGrid>

<Aside type="tip" title="Connection Note">
In this lab, we will use the **BoosterPack 1** position on the EKâ€‘TM4C1294XL LaunchPad.
This corresponds to the **outer header connectors (J1, J2, J3, and J4)**. Make sure the pins are aligned correctly as shown below.
</Aside>

<p align="center">
  <img src="https://hackmd.io/_uploads/B1eaRzNRee.png" alt="BoosterPack 1 Connection" width="360" />
  <br />
  <sub>BoosterPack MKII installed in BoosterPack 1 position on the EK-TM4C1294XL LaunchPad</sub>
</p>

<Aside type="danger">Always verify pin orientation and alignment before powering the board to avoid hardware damage.</Aside>

### ðŸ§± 9.4 â€” Your Task

You must extend this implementation to complete the full stopwatch behavior:

1. **Add a second button (S2)**  
   â€‘ Use `Button btnReset(S2);`  
   â€‘ When pressed, set the stopwatch time back to zero.

2. **Expand the time format**  
   â€‘ Display the time as `HH:MM:SS:MS`.  
   â€‘ Convert milliseconds using division and modulo operations.

3. **Display the system state**  
   â€‘ Show a label `Running` or `Stopped` depending on the value of `gRunning`.

4. **Add a second onâ€‘screen button for Reset**  
   â€‘ Create a new `MyButton` struct instance for Reset.  
   â€‘ The button should visually change when S2 is pressed.

5. **Improve display logic**  
   â€‘ Limit updates to roughly 60â€¯Hz (`~16â€¯ms` between redraws).  
   â€‘ Only refresh when time, button state, or mode changes.

6. **Ensure debouncing and callbacks**  
   â€‘ Use `btnPlayPause.setDebounceMs(30)` and similar for the Reset button.  
   â€‘ Implement callback functions `onPlayPauseClick()`, `onResetClick()`, etc.

---

### ðŸ§ª 9.5 â€” Expected Behavior

- The stopwatch starts in the **Stopped** state at `00:00:00:000`.  
- Pressing **S1** toggles between **Running** and **Stopped**.  
- Pressing **S2** resets the timer to zero.  
- The text label reflects the current state.
- The onâ€‘screen buttons change color briefly when their physical counterparts are pressed.


<p align="center">
  <img src="https://hackmd.io/_uploads/rknEKi4Rlx.png" alt="Stopwatch example screen" width="420" style="border-radius:10px; box-shadow:0 0 10px #00ffff66;">
  <br />
  <sub><span style="color:#4ec9b0; font-weight:bold;">Example of the stopwatch interface with onâ€‘screen buttons and state indicator</span></sub>
</p>

---

### ðŸ§  9.6 â€” Key Learning Points

- Using **hardware timers** for precise time measurement.  
- Managing nonâ€‘blocking tasks with `elapsedMillis` utilities.  
- Handling **button debouncing** and event callbacks.  
- Creating simple GUIs using **GRLIB primitives**.  
- Synchronizing display updates with realâ€‘time processes.

---

### âœ… Deliverables

Your final stopwatch application must:
- Display the time in `HH:MM:SS:MS` format.  
- Show `Running` or `Stopped` based on the system state.  
- Respond visually and functionally to both S1 and S2 presses.  
- Maintain smooth updates and clean modular code.

---

## Part 10 â€” Submitting Source Code

**Exporting project:**

1. Ensure project named `ece3849_lab0_<username>`.
2. Rightâ€‘click the project â†’ `Export...` â†’ `General` â†’ `Archive File`.
3. Choose the output path and filename equal to the project name (`ece3849_lab0_<username>.zip`).
4. Upload `.zip` to Canvas.

---

## Appendix / Useful Links

* TI TivaWare: [https://www.ti.com/tool/SW-TM4C](https://www.ti.com/tool/SW-TM4C)
* Graphics Library User Guide: [https://www.ti.com/lit/ug/spmu300e/spmu300e.pdf](https://www.ti.com/lit/ug/spmu300e/spmu300e.pdf)
* TM4C1294 Datasheet: [https://www.ti.com/lit/ds/symlink/tm4c1294ncpdt.pdf](https://www.ti.com/lit/ds/symlink/tm4c1294ncpdt.pdf)
* EKâ€‘TM4C1294XL: [https://www.ti.com/tool/EK-TM4C1294XL](https://www.ti.com/tool/EK-TM4C1294XL)
* BoosterPack EDUMKII: [https://www.ti.com/tool/BOOSTXL-EDUMKII](https://www.ti.com/tool/BOOSTXL-EDUMKII)

---

